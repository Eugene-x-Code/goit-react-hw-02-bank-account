{"version":3,"sources":["Components/Dashboard/Controls/controls.module.scss","Components/Dashboard/Balance/balance.module.scss","Components/Dashboard/Controls/Controls.jsx","Utils/balanceCalculator.js","Components/Dashboard/Balance/Balance.jsx","Components/Dashboard/TransactionHistory/TransactionHistory.jsx","Utils/CheckCorrectInput.js","Components/Dashboard/Dashboard.jsx","Components/App.jsx","index.js","Components/Dashboard/TransactionHistory/transactionHistory.module.scss"],"names":["module","exports","Controls","createTransaction","handleInput","className","css","controls","onSubmit","e","preventDefault","type","name","onChange","target","value","onClick","transactions","reduce","balance","transaction","amount","Balance","balanceCalculator","TransactionHistory","length","history","map","id","date","key","noHistory","checkCorrectInput","inputVal","inputName","toast","warn","position","POSITION","BOTTOM_LEFT","error","Dashboard","state","input","query","setState","Number","parentNode","reset","shortid","generate","Date","toLocaleString","prevState","success","presistedTransactions","localStorage","getItem","presistedBalance","this","JSON","parse","setItem","stringify","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d11d48cd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"controls_controls__3z1Ms\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"balance_balance__3BLga\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './controls.module.scss';\n\nconst Controls = ({ createTransaction, handleInput }) => (\n  <section className={css.controls}>\n    <form onSubmit={e => e.preventDefault()}>\n      <input\n        type=\"number\"\n        name=\"amount\"\n        onChange={e => handleInput(e.target.value)}\n      />\n      <button type=\"button\" name=\"deposit\" onClick={createTransaction}>\n        Deposit\n      </button>\n      <button type=\"button\" name=\"withdraw\" onClick={createTransaction}>\n        Withdraw\n      </button>\n    </form>\n  </section>\n);\n\nControls.propTypes = {\n  createTransaction: PropTypes.func.isRequired,\n  handleInput: PropTypes.func.isRequired,\n};\n\nexport default Controls;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-return-assign */\n\nexport default (transactions, type) =>\n  transactions.reduce(\n    (balance, transaction) =>\n      (balance += transaction.type === type ? transaction.amount : 0),\n    0,\n  );\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport balanceCalculator from '../../../Utils/balanceCalculator';\nimport css from './balance.module.scss';\n\nconst Balance = ({ transactions, balance }) => (\n  <section className={css.balance}>\n    <span>⬆{balanceCalculator(transactions, 'deposit')}$</span>\n    <span>⬇{balanceCalculator(transactions, 'withdraw')}$</span>\n    <span>Balance: {balance}$</span>\n  </section>\n);\n\nBalance.propTypes = {\n  transactions: PropTypes.arrayOf(PropTypes.any).isRequired,\n  balance: PropTypes.number.isRequired,\n};\n\nexport default Balance;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './transactionHistory.module.scss';\n\nconst TransactionHistory = ({ transactions }) =>\n  transactions.length > 0 ? (\n    <table className={css.history}>\n      <thead>\n        <tr>\n          <th>Transaction</th>\n          <th>Amount</th>\n          <th>Date</th>\n        </tr>\n      </thead>\n      <tbody>\n        {transactions.map(({ id, type, amount, date }) => (\n          <tr key={id}>\n            <td>{type}</td>\n            <td>{amount}$</td>\n            <td>{date}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  ) : (\n    <p className={css.noHistory}>No History Yet</p>\n  );\n\nTransactionHistory.propTypes = {\n  transactions: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default TransactionHistory;\n","import { toast } from 'react-toastify';\n\nconst checkCorrectInput = (inputVal, inputName, balance) => {\n  if (inputVal <= 0) {\n    toast.warn('Введено некорректное значение !', {\n      position: toast.POSITION.BOTTOM_LEFT,\n    });\n\n    return false;\n  }\n\n  if (balance < inputVal && inputName === 'withdraw') {\n    toast.error('Не достаточно средств на счету !', {\n      position: toast.POSITION.BOTTOM_LEFT,\n    });\n\n    return false;\n  }\n\n  return true;\n};\n\nexport default checkCorrectInput;\n","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Controls from './Controls/Controls';\nimport Balance from './Balance/Balance';\nimport TaransactionHistory from './TransactionHistory/TransactionHistory';\nimport checkCorrectInput from '../../Utils/CheckCorrectInput';\n\nclass Dashboard extends Component {\n  state = {\n    transactions: [],\n    balance: 0,\n    input: 0,\n  };\n\n  componentDidMount() {\n    const presistedTransactions = localStorage.getItem('transactions');\n    const presistedBalance = localStorage.getItem('balance');\n\n    if (presistedTransactions) {\n      this.setState({\n        transactions: JSON.parse(presistedTransactions),\n        balance: JSON.parse(presistedBalance),\n      });\n    }\n  }\n\n  componentDidUpdate(prevState) {\n    const { transactions, balance } = this.state;\n    if (prevState.transactions !== transactions) {\n      localStorage.setItem('transactions', JSON.stringify(transactions));\n    }\n    if (prevState.balance !== balance) {\n      localStorage.setItem('balance', JSON.stringify(balance));\n    }\n  }\n\n  handleInput = query => {\n    this.setState({ input: query });\n  };\n\n  createTransaction = ({ target }) => {\n    const { balance, input } = this.state;\n    const inputVal = Number(input);\n    target.parentNode.reset();\n    if (checkCorrectInput(inputVal, target.name, balance)) {\n      const transaction = {\n        id: shortid.generate(),\n        type: target.name,\n        amount: inputVal,\n        date: new Date().toLocaleString(),\n      };\n\n      this.setState(prevState => ({\n        transactions: [...prevState.transactions, transaction],\n        balance:\n          transaction.type === 'withdraw'\n            ? prevState.balance - inputVal\n            : prevState.balance + inputVal,\n      }));\n\n      if (transaction.type === 'withdraw') {\n        toast.success(`Успешно выведено ${inputVal}$!`, {\n          position: toast.POSITION.BOTTOM_LEFT,\n        });\n      } else {\n        toast.success(`Депозит успешно добавлен!`, {\n          position: toast.POSITION.BOTTOM_LEFT,\n        });\n      }\n    }\n  };\n\n  render() {\n    const { transactions, balance } = this.state;\n    return (\n      <div>\n        <Controls\n          createTransaction={this.createTransaction}\n          handleInput={this.handleInput}\n        />\n        <Balance transactions={transactions} balance={balance} />\n        <TaransactionHistory transactions={transactions} />\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport Dashboard from './Dashboard/Dashboard';\n\nconst App = () => <Dashboard />;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noHistory\":\"transactionHistory_noHistory__1chWY\",\"history\":\"transactionHistory_history__1n1LX\"};"],"sourceRoot":""}